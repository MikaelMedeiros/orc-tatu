<form [formGroup]="formFiltersGroup" class="p-inputgroup">
  <div>
    <div class="field" >
      <label class="flex" for="username">Cliente</label>
      <p-autoComplete (onSelect)="onNameAutocompleSelect($event)" formControlName="nome"  [suggestions]="autocompleteBudget"
      [forceSelection]="true" emptyMessage="true" (completeMethod)="autocompleBudget($event)" ></p-autoComplete>
    </div>
    <div class="field">
      <label class="flex" for="username">Data</label>
      <p-calendar formControlName="data"   id="date" selectionMode="range" dateFormat="dd/mm/yy" [readonlyInput]="true"></p-calendar>
    </div>
  </div>
</form>
<!--<div class="flex align-items-center">
  <div class="flex align-items-center">
    <p-checkbox label="Cancelados" [binary]="true" (ngModelChange)="filtrarBudgets()"  name="teste" checkboxIcon="false" appRemoveClassCheckbox  [(ngModel)]="isCanleados"></p-checkbox>
  </div>
  <div class="flex align-items-center" style="padding-left: 2rem">
    <p-checkbox label="Orçados" [binary]="true" (ngModelChange)="filtrarBudgets()" name="teste" checkboxIcon="false" appRemoveClassCheckbox [(ngModel)]="isAgendados"></p-checkbox>
  </div>
</div> -->

<div *ngIf="!(budgets && budgets.length > 0)">
  <p>Nenhum orçamento encontrado.</p>
</div>
<div class="border-round" *ngIf="budgets && budgets.length > 0">
<p-carousel
  [value]="filtrarBudgets()"
  [numVisible]="2"
  [numScroll]="2"
  (onPage)="handlePageChange($event)"
  orientation="vertical"
  verticalViewPortHeight="21rem"
  [responsiveOptions]="responsiveOptions"
  [showIndicators]="false"
>
  <ng-template let-budget pTemplate="item"  style="border: 1px solid lightgray; border-radius: 8px; padding: 10px;">
    <div class="bordar-carousel">
      <div style="bottom: 1.5rem; position: relative;">
          <div class="flex center gap-3 col-12">
            <div class="p-mb-1 col-8">
              <p>{{"Cliente: " + budget.clientName }}</p>
            </div>
          </div>
          <div class="flex flex-wrap center  col-12" style=" font-size: 0.8rem!important;">
          <div class="formgroup-inline">
            <div class="pr-2">
              <i class="pi pi-wallet" style="font-size: 1rem; color: #93deac"></i>
            </div>
            <label style="color: #93deac" class="block"> R${{budget.netValue}}</label>
          </div>

          <div class="pl-3">
            <div class="formgroup-inline">
              <div class="pr-2">
                <i class="pi pi-percentage" style="font-size: 1rem; color: #de9393"></i>
              </div>
              <label style="color: #de9393" class="block"> R${{budget.studioFee}}</label>
            </div>
          </div>

          <div class="pl-3">
            <div class="formgroup-inline">
              <div class="pr-2">
                <i class="pi pi-palette" style="font-size: 1rem; color: #93bade"></i>
              </div>
              <label style="color: #93bade" class="block"> R${{budget.tattooValue}}</label>
            </div>
          </div>
        </div>
      <div class="flex center gap-3 center historic-balls "  style="bottom: 1rem;position: relative;">
        <button class="p-ripple p-element p-button p-component p-button-icon-only p-button-cancelado" (click)="confirm1($event, budget); $event.stopPropagation()" >
          <span class="pi pi-times p-button-icon ng-star-inserted"></span>
        </button>
        <button class="p-ripple p-element p-button p-component p-button-icon-only p-button-agendar" (click)="showDialgAgendar(budget)" >
          <span class="pi pi-calendar-plus p-button-icon ng-star-inserted"></span>
        </button>
      </div>
      </div>
    </div>
  </ng-template>
</p-carousel>
<p-confirmDialog></p-confirmDialog>
<div class="text-center field center">
  Página {{ currentIndex == null ? 1 : currentIndex }} de {{ calculaIndexSizeCarroucel() }}
</div>
<div class="flex flex-wrap">
  <div class="formgroup-inline">
    <div class="pr-2">
      <i class="pi pi-wallet" style="font-size: 1rem; color: #93deac"></i>
    </div>
    <label style="color: #93deac" class="block">Total líquido previsto R${{returnsAmountCollected()}}</label>
  </div>
</div>



<app-modal-agendamento [budget]="modalBudgetInput"></app-modal-agendamento>
